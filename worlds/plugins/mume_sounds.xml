<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient>
<!-- This Source Code Form is subject to the terms of the Mozilla Public -->
<!-- License, v. 2.0. If a copy of the MPL was not distributed with this -->
<!-- file, You can obtain one at http://mozilla.org/MPL/2.0/. -->

<!-- Saved on Monday, March 12, 2012, 9:41 AM -->
<!-- MuClient version 4.81 -->

<!-- Plugin "mume_sounds" generated by Plugin Wizard -->

<muclient>
<plugin
   name="mume_sounds"
   author="Nick Stockton"
   id="32821ab3fa17b04a8ab4c420"
   language="Lua"
   purpose="Sound triggers for Mume."
   date_written="2012-03-12 09:40:19"
   requires="4.70"
   version="1.0"
   >

</plugin>


<!--  Get our standard constants -->

<include name="constants.lua"/>

<!--  Triggers  -->

<triggers>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^(?:Struggling against the Yellow Face\, you try|You start) to concentrate\.\.\.$"
   name="you_casting"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send></send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^(?:Argh\! You cannot concentrate any more\.\.\.|The cruel light of the sun made you lose your concentration\!)$"
   name="casting_interrupted"
   regexp="y"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send></send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^(?:Your victim has disappeared|Alas\! There was no clear line of sight to \w+)\!$"
   name="no_line_of_sight"
   regexp="y"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send></send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="Ok."
   name="ok"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_ALERT, "ok.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   lines_to_match="2"
   group="mume_sounds"
   match="^[^\']+ utters the word[s]? \'[\']+\'$Nothing seems to happen\.\Z"
   name="nothing_happens_other"
   omit_from_output="y"
   multi_line="y"
   regexp="y"
   sequence="80"
  >
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="Nothing seems to happen."
   name="nothing_happens"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send></send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^\*.+(?P&lt;player&gt;Orc|Troll|Man|Woman|Elf|Half-Elf|Dwarf|Hobbit|Bear|Numenorean|Númenórean)\*.*?(?P&lt;action&gt;standing|sitting|resting|sleeping|fighting|riding|nocks a missile|begins some strange|arrived|leaves).+?((?P&lt;direction&gt;north|south|east|west|up|down|above|below|hiding place).*)?$"
   name="pk_action_sounds"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
local player = "%&lt;player&gt;"
local action = "%&lt;action&gt;"
if player == "Numenorean" or player == "Númenórean" or player == "Woman" then
	player = "Man"
end
if action == "nocks a missile" then
	action = "shooting"
elseif action == "begins some strange" then
	action = "casting"
end
if "%&lt;direction&gt;" ~= "hiding place" then
	play(TYPE_PK, player .. action .. "%&lt;direction&gt;.wav")
end
  </send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^You begin to feel (?P&lt;need&gt;hungry|thirsty)\.$"
   name="hungry_thirsty_sounds"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_ALERT, "%&lt;need&gt;.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^You (?:feel a hidden presence\.|smell blood\.|have found [^\!]+\!)$"
   name="Hidden_sound"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_ALERT, "hidden.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="You gain a level!"
   name="gain_level_sound"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_ALERT, "tada.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^A (?:citizen[\- ])?mercenary (?:(?:leaves|has arrived from) [^\.]+|is here\, (?:looking|waiting) for a job)\.$"
   name="misc_alert1"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_ALERT, "misc_alert.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^(?:Cirdan the Shipwright|Elrond(?: the Master of Rivendell)?) (?:is standing here \(glowing\)| (?:leaves|has arrived from) [^\.]+)\.$"
   name="misc_alert2"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_ALERT, "misc_alert.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^A small campfire burns here\, its (?:low flames giving off only a little|embers barely giving off any) light.$"
   name="misc_alert3"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_ALERT, "misc_alert.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="The scarred fell beast opens its horrendous, shadow-veiled mouth and screeches!"
   name="misc_alert4"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_ALERT, "misc_alert.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="The ice layer is completely molten!"
   name="misc_alert5"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_ALERT, "misc_alert.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="A wider patch of rock is cleared of ice."
   name="misc_alert6"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_ALERT, "misc_alert.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="The Balrog entangles you in his whip and hurls you out of the room!"
   name="misc_alert7"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_ALERT, "misc_alert.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="The ground trembles slightly."
   name="misc_alert8"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_ALERT, "misc_alert.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^(?:A blue transparent wall slowly appears around you|Your magic armour is revitalised)\.$"
   name="armour_up"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_STATUS, "spells/armour_on.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="You feel less protected."
   name="armour_down"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_STATUS, "spells/armour_off.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^You (?:begin to feel the light of Aman|feel a renewed light) shine upon you\.$"
   name="bless_up"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_STATUS, "spells/bless_on.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="The light of Aman fades away from you."
   name="bless_down"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_STATUS, "spells/bless_off.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^You(?: feel protected|r protection is revitalised)\.$"
   name="shield_up"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_STATUS, "spells/shield_on.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="Your magical shield wears off."
   name="shield_down"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_STATUS, "spells/shield_off.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^(?:You feel stronger|The duration of the strength spell has been improved)\.$"
   name="strength_up"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_STATUS, "spells/strength_on.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="You feel weaker."
   name="strength_down"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_STATUS, "spells/strength_off.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^You(?: feel your awareness improve|r awareness is refreshed)\.$"
   name="sense_life_up"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_STATUS, "spells/sense_life_on.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="You feel less aware of your surroundings."
   name="sense_life_down"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_STATUS, "spells/sense_life_off.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^(?:An energy begins to flow within your legs as your body becomes lighter|The energy in your legs is refreshed)\.$"
   name="breath_of_briskness_up"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_STATUS, "spells/breath_of_briskness_on.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="Your legs feel heavier."
   name="breath_of_briskness_down"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_STATUS, "spells/breath_of_briskness_off.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^(?:You start glowing|Your aura glows more intensely)\.$"
   name="sanctuary_up"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_STATUS, "spells/sanctuary_on.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="The white aura around your body fades."
   name="sanctuary_down"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_STATUS, "spells/sanctuary_off.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="You have been blinded!"
   name="blindness_up"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_STATUS, "spells/blindness_on.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="You feel a cloak of blindness dissolve."
   name="blindness_down"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_STATUS, "spells/blindness_off.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^(?:As you call upon Elbereth\, [^\.]+? shivers in pain|[^\.]+? is dissolved by your goodness)\.$"
   name="dispel_evil_target"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "spells/dispel_evil.wav", -100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^[^\.]+? (?:dissolves your evil presence|makes your evil soul suffer with her goodness)\.$"
   name="dispel_evil_you"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "spells/dispel_evil.wav", 100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="You raise your hand and an icy wind starts to blow through the room."
   name="fear_target"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "spells/fear.wav", -100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="An icy wind starts to blow in the room. You panic!"
   name="fear_you"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "spells/fear.wav", 100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^You(?:r spray of light rips [^\.]+? apart completely\, killing \w+| spray [^\.]+? with many\-coloured rays of bright light)\.$"
   name="colour_spray_target"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "spells/colour_spray.wav", -100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^(?:You die as [^\.]+? sprays you with bright|[^\.]+? sprays you with piercing rays of many\-coloured) light\.$"
   name="colour_spray_you"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "spells/colour_spray.wav", 100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^You burn(?:ed)? [^\.]+\.$"
   name="burning_hands_target"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "spells/burning_hands.wav", -100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^[^\.]+? burns you\.$"
   name="burning_hands_you"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "spells/burning_hands.wav", 100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^Your fireball (?:completely envelops [^\.]+? in flames|hits [^\.]+? with full force\, causing an immediate death)\.$"
   name="fireball_target"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "spells/fireball.wav", -100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^[^\.]+? fireball completely envelops you\, causing infernal pain\.$"
   name="fireball_you"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "spells/fireball.wav", 100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^The (?:impact of your lightning bolt kills [^\.]+|lightning bolt hits [^\.]+? with full impact)\.$"
   name="lightning_bolt_target"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "spells/lightning_bolt.wav", -100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^(?:You\'re killed by the lightning bolt sent by [^\.]+?|[^\.]+? sends a powerful lightning bolt at you\, you stagger from the impact)\.$"
   name="lightning_bolt_you"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "spells/lightning_bolt.wav", 100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="The earth trembles beneath your feet!"
   name="earthquake_target"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "spells/earthquake.wav", -100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^[^\.]+? makes the earth tremble and shiver\.$"
   name="earthquake_you"
   omit_from_output="y"
   send_to="12"
   regexp="y"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "spells/earthquake.wav", 100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="The earth trembles and shivers."
   name="earthquake_near"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "spells/earthquake_near.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   lines_to_match="2"
   group="mume_sounds"
   match="^Ok\.$[^\.]+? lies down and falls asleep\.\Z"
   name="sleep_target"
   omit_from_output="y"
   multi_line="y"
   regexp="y"
   send_to="12"
   sequence="80"
  >
  <send>play(TYPE_SPELL_ATTACK, "spells/sleep.wav", -100)</send>
  </trigger>
  <trigger
   enabled="y"
   lines_to_match="2"
   group="mume_sounds"
   match="^[^\']+ utters the word \'(?:sleep|grzzs)\'$[^\.]+? lies down and falls asleep\.\Z"
   name="sleep_other"
   omit_from_output="y"
   multi_line="y"
   regexp="y"
   send_to="12"
   sequence="80"
  >
  <send>play(TYPE_FREE_SLOT, "spells/sleep.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   lines_to_match="2"
   group="mume_sounds"
   match="^Ok\.$[^\!]+? (?:seems to be blinded\!|shivers as some of \w+ eyes become glazed\.)\Z"
   name="blind_target"
   omit_from_output="y"
   multi_line="y"
   regexp="y"
   send_to="12"
   sequence="80"
  >
  <send>play(TYPE_SPELL_ATTACK, "spells/blind.wav", -100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^[^\!]+? (?:seems to be blinded\!|shivers as some of \w+ eyes become glazed\.)$"
   name="blind_other"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_FREE_SLOT, "spells/blind.wav")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="Your victim is already blind."
   name="already_blind_target"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "spells/already_blind.wav", -100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^(?:[^\.]+? swiftly dodges your attempt to shoot \w+|You try to shoot [^\.]+?\, but \w+ parries successfully|Your attempt to shoot [^\.]+? fails)\.$"
   name="fail_shoot_target"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "combat/fail_shoot.wav", -100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^(?:You swiftly dodge [^\.]+? attempt to shoot you|[^\.]+? tries to shoot you\, but your parry is successful)\.$"
   name="fail_shoot_you"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "combat/fail_shoot.wav", 100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^You (?:barely |lightly |strongly )?shoot [^\.]+\.$"
   name="shoot_target"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "combat/shoot.wav", -100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^[^\.]+? (?:barely |lightly |strongly )?shoots your [^\.]+\.$"
   name="shoot_you"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "combat/shoot.wav", 100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^[^\.]+? makes a strange sound(?: but is suddenly very silent)?\, as you place (?:something|a[n]? [^\.]+?) in \w+ back\.$"
   name="backstab_target"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "skills/backstab/" .. math.random(1, 7) .. ".wav", -100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^Suddenly [^\.]+? stabs you in the back(?:\, you die)?\.$"
   name="backstab_you"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "skills/backstab/" .. math.random(1, 7) .. ".wav", 100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^(?:[^\.]+? easily avoids your backstab\.|Oops\, your victim (?:caught you by surprise|seems to have sensed a danger)\!)$"
   name="fail_backstab_target"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "skills/backstab/fail_backstab.wav", -100)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_sounds"
   match="^(?:You surprise [^\.]+?\.|Oops\, you\'ve sensed a danger\!)$"
   name="fail_backstab_you"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>play(TYPE_SPELL_ATTACK, "skills/backstab/fail_backstab.wav", 100)</send>
  </trigger>
</triggers>

<!--  Script  -->


<script>
<![CDATA[
CONFIG = "d19a2f0a604c96b7318aa67f"
TTS = "925cdd0331023d9f0b8f05a7"
TYPE_FREE_SLOT = 0
TYPE_ALERT = 3
TYPE_SPELL_ATTACK = 4
TYPE_SPELL_STATUS = 5
TYPE_PK = 8
TYPE_COMMUNICATION = 9

return_code, sound_volume = CallPlugin(CONFIG, "get", "sound_volume")
sound_volume = sound_volume or 0
return_code, sound_mute = CallPlugin(CONFIG, "get", "sound_mute")
sound_mute = sound_mute or false

math.randomseed(os.time())

function toggle_mute()
	sound_mute = not sound_mute
	CallPlugin(CONFIG, "set", "sound_mute", sound_mute)
	CallPlugin(TTS, "say", string.format("%sMuted", sound_mute and "" or "Un"), true)
end

function adjust_volume(value)
	local volume = sound_volume + value
	CallPlugin(TTS, "silence")
	if sound_mute then
		sound_mute = false
		CallPlugin(CONFIG, "set", "sound_mute", sound_mute)
		CallPlugin(TTS, "say", "UnMuted", false)
	end
	if volume < -100 then
		volume = -100
	elseif volume > 0 then
		volume = 0
	end
	sound_volume = volume
	CallPlugin(CONFIG, "set", "sound_volume", sound_volume)
	CallPlugin(TTS, "say", string.format("%dDB volume.", sound_volume), false)
end

function play(sound_type, file_name, pan, loop)
	if not sound_mute then
		PlaySound(sound_type, GetInfo(67) .. "sounds/" .. file_name, loop and true or false, sound_volume, pan or 0)
	end
end

function OnPluginInstall()
	SetOption("play_sounds_in_background", 1)
end

]]>
</script>


</muclient>
