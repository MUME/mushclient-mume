<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient>
<!-- This Source Code Form is subject to the terms of the Mozilla Public -->
<!-- License, v. 2.0. If a copy of the MPL was not distributed with this -->
<!-- file, You can obtain one at http://mozilla.org/MPL/2.0/. -->

<!-- Saved on Thursday, August 23, 2012, 7:27 PM -->
<!-- MuClient version 4.81 -->

<!-- Plugin "mume_misc" generated by Plugin Wizard -->

<muclient>
<plugin
   name="mume_misc"
   author="Nick Stockton"
   id="ad20dd80cbd7c2fea78ce15c"
   language="Lua"
   purpose="Misc aliases and triggers that don't belong anywhere else."
   date_written="2012-08-23 19:24:49"
   requires="4.70"
   version="1.0"
   >

</plugin>


<!--  Get our standard constants -->

<include name="constants.lua"/>

<!--  Triggers  -->

<triggers>
  <trigger
   enabled="y"
   group="mume_misc"
   match="^(?:You grasp the corpse and start dragging it\.|You are already dragging it\!)$"
   name="auto_drag_next"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
if auto_drag then
	auto_drag_counter = auto_drag_counter + 1
	Send(string.format("drag %s.corpse", auto_drag_counter))
else
	CallPlugin(screenReader, "sayNote", "%0")
end
  </send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_misc"
   match="^You do not see anything like that\.$"
   name="auto_drag_complete"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
if auto_drag then
	CallPlugin(screenReader, "sayNote", "Now dragging all corpses.")
	auto_drag_counter = 1
	auto_drag = false
else
	CallPlugin(screenReader, "sayNote", "%0")
end
  </send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_misc"
   match="^(?P&lt;tag&gt;NAME|DESCRIPTION|PROMPT|TELL|SAY|NARRATE|PRAY|EMOTE):(?P&lt;line&gt;.*):(?P=tag)$"
   name="remove_proxy_tags"
   omit_from_output="y"
   regexp="y"
   keep_evaluating="y"
   send_to="12"
   sequence="80"
  >
  <send>CallPlugin(screenReader, "sayNote", "%&lt;line&gt;")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_misc"
   match="^ENEMY:(?P&lt;first&gt;.+):ENEMY(?P&lt;second&gt;.*)$"
   name="remove_enemy_tag"
   omit_from_output="y"
   regexp="y"
   keep_evaluating="y"
   send_to="12"
   sequence="80"
  >
  <send>CallPlugin(screenReader, "sayNote", "%&lt;first&gt;%&lt;second&gt;")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_misc"
   match="You have been idle, and are pulled into a void."
   name="no_void"
   sequence="100"
  >
  <send>wake
stand
lead
train all</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_misc"
   match="^ACK\! .+? didn\'t follow you\, you lost (him|her|it)\.$"
   name="beep_on_ack"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Tell("\a")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_misc"
   match="^(Nah\.\.\. You feel too relaxed to do that\.|Maybe you should get on your feet first\?|You can\'t do this sitting\!|You can\'t concentrate enough while resting\.|Not from your present position\!)$"
   name="auto_stand"
   regexp="y"
   sequence="100"
  >
  <send>stand</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_misc"
   match="Prompt set to None."
   name="always_show_points_in_prompt"
   sequence="100"
  >
  <send>change prompt points</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_misc"
   match="You can only gain one level at a time... Reduced experience."
   name="beep_on_reduced_xp"
   send_to="12"
   sequence="100"
  >
  <send>Tell("\a")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mume_misc"
   keep_evaluating="y"
   match="^(Welcome to the land of Middle\-earth\. May your visit here be\.\.\. interesting\.|Reconnecting\.)$"
   name="do_stuff_after_login"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
-- Negotiate echo back on.
-- If this is not done, command history in MushClient won't work.
SendPkt(string.char(255, 253, 1))
Send("change compact on")
Send("change spam off")
Send("change brief on")
Send("change wordwrap off")</send>
  </trigger>
</triggers>

<!--  Aliases  -->

<aliases>
  <alias
   name="drag_all"
   match="dragall"
   enabled="y"
   group="mume_misc"
   send_to="12"
   sequence="100"
  >
  <send>
auto_drag = true
auto_drag_counter = 1
Send("drag 1.corpse")
  </send>
  </alias>
  <alias
   name="butcher_corpses"
   match="^bc(?:\s*(?P&lt;digit&gt;\d+))?$"
   enabled="y"
   group="mume_misc"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Send(string.format("butcher %s.corpse", "%&lt;digit&gt;" ~= "" and "%&lt;digit&gt;" or "1"))</send>
  </alias>
  <alias
   name="money_info"
   match="money"
   enabled="y"
   group="mume_misc"
   sequence="100"
  >
  <send>info %%r</send>
  </alias>
  <alias
   name="affected_by_info"
   match="affect"
   enabled="y"
   group="mume_misc"
   sequence="100"
  >
  <send>info %%f</send>
  </alias>
  <alias
   name="alignment_info"
   match="align"
   enabled="y"
   group="mume_misc"
   sequence="100"
  >
  <send>info %%q</send>
  </alias>
  <alias
   name="citizen_list_info"
   match="citizen"
   enabled="y"
   group="mume_misc"
   sequence="100"
  >
  <send>info %%c</send>
  </alias>
  <alias
   name="weight_carried_info"
   match="weight"
   enabled="y"
   group="mume_misc"
   sequence="100"
  >
  <send>info %%C, %%F</send>
  </alias>
  <alias
   name="look_in"
   match="li *"
   enabled="y"
   group="mume_misc"
   sequence="100"
  >
  <send>look in %1</send>
  </alias>
  <alias
   name="switch_cloak_from_pouch"
   match="cpouch"
   enabled="y"
   group="mume_misc"
   sequence="100"
  >
  <send>remove cloak
remove fur
get cloak pouch
wear cloak
put cloak pouch
put fur pouch</send>
  </alias>
  <alias
   name="switch_fur_from_pack"
   match="fpack"
   enabled="y"
   group="mume_misc"
   sequence="100"
  >
  <send>remove cloak
remove fur
get fur pack
wear fur
put cloak pack
put fur pack</send>
  </alias>
  <alias
   name="wake_stand"
   match="ws"
   enabled="y"
   group="mume_misc"
   sequence="100"
  >
  <send>wake
stand</send>
  </alias>
  <alias
   name="Switch_cloak_from_pack"
   match="cpack"
   enabled="y"
   group="mume_misc"
   sequence="100"
  >
  <send>remove cloak
remove fur
get cloak pack
wear cloak
put cloak pack
put fur pack</send>
  </alias>
  <alias
   name="switch_boots_from_pouch"
   match="bpouch"
   enabled="y"
   group="mume_misc"
   sequence="100"
  >
  <send>remove boots
get boots pouch
wear boots
put boots pouch</send>
  </alias>
  <alias
   name="switch_boots_from_pack"
   match="bpack"
   enabled="y"
   group="mume_misc"
   sequence="100"
  >
  <send>remove boots
get boots backpack
wear boots
put boots backpack</send>
  </alias>
</aliases>

<script>
<![CDATA[
screenReader = "925cdd0331023d9f0b8f05a7"
auto_drag = false
auto_drag_counter = 1

]]>
</script>

</muclient>
